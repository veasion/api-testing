(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6136f6d5"],{"004e":function(e,t,l){"use strict";l.r(t);var n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("div",{staticClass:"filter-container"},[l("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"日志内容"},model:{value:e.listQuery.msg,callback:function(t){e.$set(e.listQuery,"msg",t)},expression:"listQuery.msg"}}),e._v(" "),l("el-input",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{placeholder:"URL"},model:{value:e.listQuery.url,callback:function(t){e.$set(e.listQuery,"url",t)},expression:"listQuery.url"}}),e._v(" "),l("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"运行状态"},model:{value:e.listQuery.status,callback:function(t){e.$set(e.listQuery,"status",t)},expression:"listQuery.status"}},e._l(e.statusList,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),l("el-select",{staticClass:"filter-item",staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"日志类型"},model:{value:e.listQuery.refId,callback:function(t){e.$set(e.listQuery,"refId",t)},expression:"listQuery.refId"}},e._l(e.refTypeList,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),l("el-select",{staticClass:"filter-item",attrs:{clearable:"",filterable:"",placeholder:"所属项目"},model:{value:e.listQuery.projectId,callback:function(t){e.$set(e.listQuery,"projectId",t)},expression:"listQuery.projectId"}},e._l(e.projectList,(function(e){return l("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),e._v(" "),l("el-button",{directives:[{name:"waves",rawName:"v-waves"}],staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.fetchData}},[e._v("\n      搜索\n    ")])],1),e._v(" "),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],attrs:{data:e.list,"element-loading-text":"Loading",border:"",fit:"","highlight-current-row":""}},[l("el-table-column",{attrs:{align:"center",label:"项目名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.projectName))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"请求URL",width:"300px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.url))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"接口耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((t.row.time||0)+" ms"))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"执行状态",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",{style:"color:"+(3===t.row.status?"red":"")},[e._v(e._s(e._f("statusFilter")(t.row.status)))])]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"策略名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.executeStrategyName))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"用例名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.testCaseName))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"Api命名"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiName))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"接口描述"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.apiDesc))]}}])}),e._v(" "),l("el-table-column",{attrs:{align:"center",label:"执行耗时"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((t.row.execTime||0)+" ms"))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"执行时间",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.createTime))]}}])}),e._v(" "),l("el-table-column",{attrs:{label:"操作",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[l("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.handleViewJobLog(n)}}},[e._v("日志查看")])]}}])})],1),e._v(" "),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.pageNo,limit:e.listQuery.pageSize},on:{"update:page":function(t){return e.$set(e.listQuery,"pageNo",t)},"update:limit":function(t){return e.$set(e.listQuery,"pageSize",t)},pagination:e.fetchData}}),e._v(" "),l("el-dialog",{attrs:{title:"日志查看",visible:e.dialogVisible,width:"85%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[l("div",{staticClass:"log-container"},[l("pre",{attrs:{loading:e.logLoading},domProps:{textContent:e._s(e.logContent)}})])])],1)},a=[],i=l("fa8c"),o=l("6724"),s=l("333d"),r={name:"Logs",components:{Pagination:s["a"]},directives:{waves:o["a"]},filters:{statusFilter:function(e){var t={1:"执行中",2:"执行成功",3:"执行失败"};return t[e]}},data:function(){return{dialogVisible:!1,list:null,listLoading:!0,total:0,listQuery:{pageNo:1,pageSize:10,projectId:null,msg:"",url:"",refId:null,status:null,executeStrategyId:null},projectList:[],statusList:[{value:1,label:"执行中"},{value:2,label:"执行成功"},{value:3,label:"执行失败"}],refTypeList:[{value:"0",label:"策略"}],logContent:"",logLoading:!1}},created:function(){this.init()},methods:{init:function(){this.fetchData()},fetchData:function(){var e=this;this.listLoading=!0;var t=Object.assign({},this.listQuery),l=this.$route.query.executeStrategyId;l&&(t.executeStrategyId=l),i["a"](t).then((function(t){e.total=t.total,e.list=t.data,e.listLoading=!1}))},handleViewJobLog:function(e){this.dialogVisible=!0,this.logContent=e.msg,this.logLoading=!1}}},u=r,c=(l("6cf9"),l("2877")),d=Object(c["a"])(u,n,a,!1,null,"1a462cee",null);t["default"]=d.exports},"09f4":function(e,t,l){"use strict";l.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,l,n){return e/=n/2,e<1?l/2*e*e+t:(e--,-l/2*(e*(e-2)-1)+t)};var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function a(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function i(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,l){var o=i(),s=e-o,r=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=r;var i=Math.easeInOutQuad(u,o,s,t);a(i),u<t?n(e):l&&"function"===typeof l&&l()};c()}},6724:function(e,t,l){"use strict";l("8d41");var n="@@wavesContext";function a(e,t){function l(l){var n=Object.assign({},t.value),a=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},n),i=a.ele;if(i){i.style.position="relative",i.style.overflow="hidden";var o=i.getBoundingClientRect(),s=i.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":(s=document.createElement("span"),s.className="waves-ripple",s.style.height=s.style.width=Math.max(o.width,o.height)+"px",i.appendChild(s)),a.type){case"center":s.style.top=o.height/2-s.offsetHeight/2+"px",s.style.left=o.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(l.pageY-o.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(l.pageX-o.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=a.color,s.className="waves-ripple z-active",!1}}return e[n]?e[n].removeHandle=l:e[n]={removeHandle:l},l}var i={bind:function(e,t){e.addEventListener("click",a(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[n].removeHandle,!1),e.addEventListener("click",a(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[n].removeHandle,!1),e[n]=null,delete e[n]}},o=function(e){e.directive("waves",i)};window.Vue&&(window.waves=i,Vue.use(o)),i.install=o;t["a"]=i},"6cf9":function(e,t,l){"use strict";l("de88")},"8d41":function(e,t,l){},de88:function(e,t,l){},fa8c:function(e,t,l){"use strict";l.d(t,"a",(function(){return a})),l.d(t,"b",(function(){return i}));var n=l("b775");function a(e){return Object(n["a"])({url:"/api/apiLog/listPage",method:"get",params:e})}function i(e,t){return Object(n["a"])({url:"/api/apiLog/pressureResult?strategyId="+e+"&logId="+(t||""),method:"get"})}}}]);